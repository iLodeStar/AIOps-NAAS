{
  "dashboard": {
    "id": null,
    "uid": "business-intelligence-001", 
    "title": "📊 Executive Business Intelligence Dashboard",
    "description": "C-suite dashboard showing ROI, operational excellence, and strategic KPIs",
    "tags": ["business", "executive", "roi", "kpi", "strategic"],
    "timezone": "UTC",
    "refresh": "1h",
    "panels": [
      {
        "id": 1,
        "title": "💰 AIOps Platform ROI (This Quarter)",
        "type": "stat",
        "gridPos": {"h": 8, "w": 6, "x": 0, "y": 0},
        "targets": [
          {
            "datasource": "ClickHouse",
            "rawQuery": true,
            "query": "SELECT (SUM(cost_savings_usd) - SUM(platform_cost_usd)) / SUM(platform_cost_usd) * 100 as roi_percentage FROM financial_metrics WHERE quarter = toQuarter(now()) AND year = toYear(now())"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "decimals": 1,
            "color": {
              "mode": "thresholds"
            },
            "thresholds": {
              "steps": [
                {"color": "red", "value": 0},
                {"color": "yellow", "value": 100},
                {"color": "green", "value": 200}
              ]
            }
          }
        },
        "options": {
          "colorMode": "background",
          "graphMode": "area",
          "justifyMode": "center"
        }
      },
      {
        "id": 2,
        "title": "⬆️ Fleet Uptime Improvement",
        "type": "stat", 
        "gridPos": {"h": 8, "w": 6, "x": 6, "y": 0},
        "targets": [
          {
            "datasource": "ClickHouse",
            "rawQuery": true,
            "query": "SELECT (current_uptime - baseline_uptime) as uptime_improvement FROM (SELECT AVG(uptime_percentage) as current_uptime FROM fleet_metrics WHERE timestamp > now() - INTERVAL 30 DAY) CROSS JOIN (SELECT 95.5 as baseline_uptime)"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "decimals": 2,
            "color": {"mode": "thresholds"},
            "thresholds": {
              "steps": [
                {"color": "yellow", "value": 0},
                {"color": "green", "value": 1}
              ]
            }
          }
        }
      },
      {
        "id": 3,
        "title": "🚨 Incidents Prevented vs Reactive",
        "type": "piechart",
        "gridPos": {"h": 8, "w": 6, "x": 12, "y": 0},
        "targets": [
          {
            "datasource": "ClickHouse", 
            "rawQuery": true,
            "query": "SELECT 'Prevented (Predictive)' as category, COUNT(*) as count FROM incidents WHERE prevention_type = 'predictive' AND timestamp > now() - INTERVAL 30 DAY UNION ALL SELECT 'Reactive Response' as category, COUNT(*) as count FROM incidents WHERE prevention_type = 'reactive' AND timestamp > now() - INTERVAL 30 DAY"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "vis": false
              }
            }
          }
        },
        "options": {
          "reduceOptions": {
            "calcs": ["lastNotNull"],
            "fields": "",
            "values": false
          },
          "pieType": "pie",
          "tooltip": {
            "mode": "single"
          },
          "legend": {
            "displayMode": "table",
            "placement": "right"
          }
        }
      },
      {
        "id": 4,
        "title": "📈 Operational KPI Scorecard",
        "type": "table",
        "gridPos": {"h": 8, "w": 6, "x": 18, "y": 0},
        "targets": [
          {
            "datasource": "ClickHouse",
            "rawQuery": true,
            "query": "SELECT 'Safety Score' as metric, ROUND(AVG(safety_score), 1) as current_value, 95.0 as target, CASE WHEN AVG(safety_score) >= 95.0 THEN '✅' ELSE '⚠️' END as status FROM operational_kpis WHERE timestamp > now() - INTERVAL 7 DAY UNION ALL SELECT 'Fuel Efficiency' as metric, ROUND(AVG(fuel_efficiency), 1) as current_value, 88.0 as target, CASE WHEN AVG(fuel_efficiency) >= 88.0 THEN '✅' ELSE '⚠️' END as status FROM operational_kpis WHERE timestamp > now() - INTERVAL 7 DAY UNION ALL SELECT 'On-Time Performance' as metric, ROUND(AVG(schedule_adherence), 1) as current_value, 92.0 as target, CASE WHEN AVG(schedule_adherence) >= 92.0 THEN '✅' ELSE '⚠️' END as status FROM operational_kpis WHERE timestamp > now() - INTERVAL 7 DAY"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "custom": {
              "align": "center",
              "displayMode": "basic"
            }
          },
          "overrides": [
            {
              "matcher": {"id": "byName", "options": "status"},
              "properties": [
                {"id": "custom.width", "value": 60}
              ]
            }
          ]
        }
      },
      {
        "id": 5,
        "title": "💸 Cost Breakdown: Traditional vs AI-Powered Operations",
        "type": "barchart",
        "gridPos": {"h": 10, "w": 12, "x": 0, "y": 8},
        "targets": [
          {
            "datasource": "ClickHouse",
            "rawQuery": true,
            "query": "SELECT 'Maintenance Costs' as category, traditional_cost, ai_powered_cost FROM cost_comparison WHERE category = 'maintenance' AND month = toMonth(now()) UNION ALL SELECT 'Incident Response' as category, traditional_cost, ai_powered_cost FROM cost_comparison WHERE category = 'incidents' AND month = toMonth(now()) UNION ALL SELECT 'Fuel Consumption' as category, traditional_cost, ai_powered_cost FROM cost_comparison WHERE category = 'fuel' AND month = toMonth(now())"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "Cost (USD)",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "bars",
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "vis": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            }
          }
        },
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        }
      },
      {
        "id": 6,
        "title": "⏱️ Mean Time To Resolution (MTTR) Trends",
        "type": "timeseries",
        "gridPos": {"h": 10, "w": 12, "x": 12, "y": 8},
        "targets": [
          {
            "datasource": "ClickHouse",
            "rawQuery": true,
            "query": "SELECT timestamp, AVG(resolution_time_minutes) as mttr_minutes FROM incidents WHERE timestamp > now() - INTERVAL 90 DAY GROUP BY toStartOfWeek(timestamp) ORDER BY timestamp"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "Minutes",
              "axisPlacement": "auto",
              "drawStyle": "line",
              "fillOpacity": 20,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "vis": false
              },
              "lineInterpolation": "smooth",
              "lineWidth": 3,
              "pointSize": 6,
              "showPoints": "auto",
              "spanNulls": false
            },
            "unit": "min"
          }
        }
      },
      {
        "id": 7,
        "title": "🏆 Fleet Performance Ranking (This Month)",
        "type": "table",
        "gridPos": {"h": 10, "w": 24, "x": 0, "y": 18},
        "targets": [
          {
            "datasource": "ClickHouse",
            "rawQuery": true,
            "query": "SELECT ship_name, ROUND(AVG(uptime_percentage), 2) as uptime, ROUND(AVG(fuel_efficiency), 1) as fuel_eff, COUNT(incidents.incident_id) as incidents, ROUND(AVG(passenger_satisfaction), 1) as satisfaction, CASE WHEN AVG(uptime_percentage) > 98 AND COUNT(incidents.incident_id) < 5 THEN 'Excellent ⭐⭐⭐' WHEN AVG(uptime_percentage) > 95 AND COUNT(incidents.incident_id) < 10 THEN 'Good ⭐⭐' ELSE 'Needs Attention ⚠️' END as performance_rating FROM fleet_metrics LEFT JOIN incidents ON fleet_metrics.ship_id = incidents.ship_id WHERE fleet_metrics.timestamp > now() - INTERVAL 30 DAY GROUP BY ship_name ORDER BY uptime DESC, incidents ASC"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "custom": {
              "align": "center",
              "displayMode": "basic"
            }
          },
          "overrides": [
            {
              "matcher": {"id": "byName", "options": "performance_rating"},
              "properties": [
                {"id": "custom.width", "value": 180}
              ]
            },
            {
              "matcher": {"id": "byName", "options": "uptime"},
              "properties": [
                {"id": "unit", "value": "percent"}
              ]
            }
          ]
        }
      }
    ]
  }
}